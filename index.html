<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç²’å­åœ£è¯æ ‘ğŸ„</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: #000; 
            min-height: 100vh; 
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        canvas { 
            display: block; 
            width: 100vw; 
            height: 100vh;
        }
        .text {
            position: absolute;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            font-size: clamp(12px, 3vw, 24px);
            text-shadow: 0 0 10px rgba(255,255,255,0.8);
            z-index: 1;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }
    </style>
</head>
<body>
    <div class="text">Merry Christmas</div>
    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        let treePoints = [];
        let radius = Math.min(canvas.width, canvas.height) * 0.4; // é€‚é…å±å¹•å¤§å°

        // é€‚é…å±å¹•å¤§å°
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            radius = Math.min(canvas.width, canvas.height) * 0.4;
            initTree();
            initParticles();
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        // ç”Ÿæˆåœ£è¯æ ‘è½®å»“ç‚¹
        function initTree() {
            treePoints = [];
            // æ ‘é¡¶æ˜Ÿæ˜Ÿ
            const starPoints = getStarPoints(canvas.width/2, canvas.height/2 - radius*0.8, radius*0.15);
            treePoints.push(...starPoints);

            // æ ‘èº«ï¼ˆåˆ†å±‚ä¸‰è§’å½¢ï¼‰
            const layers = 6;
            for (let i = 0; i < layers; i++) {
                const y = canvas.height/2 - radius*0.6 + (radius * i / layers);
                const w = radius * (1 - i/(layers*1.2));
                const layerPoints = getTrianglePoints(canvas.width/2, y, w, radius*0.2);
                treePoints.push(...layerPoints);
            }

            // æ ‘åº•åœ†ç¯
            const circlePoints = getCirclePoints(canvas.width/2, canvas.height/2 + radius*0.4, radius*0.8, 80);
            treePoints.push(...circlePoints);
        }

        // ç”Ÿæˆæ˜Ÿæ˜Ÿç‚¹
        function getStarPoints(x, y, size) {
            const points = [];
            const spikes = 5;
            for (let i = 0; i < spikes * 2; i++) {
                const angle = (i * Math.PI / spikes) - Math.PI/2;
                const len = i % 2 === 0 ? size : size * 0.4;
                points.push({
                    x: x + Math.cos(angle) * len,
                    y: y + Math.sin(angle) * len
                });
            }
            return points;
        }

        // ç”Ÿæˆä¸‰è§’å½¢ç‚¹
        function getTrianglePoints(x, y, width, height) {
            const points = [];
            const segments = 20;
            // å·¦æ–œè¾¹
            for (let i = 0; i < segments; i++) {
                const t = i / segments;
                points.push({
                    x: x - width/2 + (width * t * 0.5),
                    y: y + (height * t)
                });
            }
            // å³æ–œè¾¹
            for (let i = segments; i >= 0; i--) {
                const t = i / segments;
                points.push({
                    x: x + width/2 - (width * t * 0.5),
                    y: y + (height * t)
                });
            }
            return points;
        }

        // ç”Ÿæˆåœ†ç¯ç‚¹
        function getCirclePoints(x, y, r, count) {
            const points = [];
            for (let i = 0; i < count; i++) {
                const angle = (i / count) * Math.PI * 2;
                points.push({
                    x: x + Math.cos(angle) * r,
                    y: y + Math.sin(angle) * r
                });
            }
            return points;
        }

        // åˆå§‹åŒ–ç²’å­
        function initParticles() {
            particles = [];
            const particleCount = 800; // ç²’å­æ•°é‡
            for (let i = 0; i < particleCount; i++) {
                const point = treePoints[Math.floor(Math.random() * treePoints.length)];
                particles.push({
                    x: point.x + (Math.random() - 0.5) * 10,
                    y: point.y + (Math.random() - 0.5) * 10,
                    targetX: point.x,
                    targetY: point.y,
                    size: Math.random() * 2 + 1,
                    speed: Math.random() * 0.3 + 0.1,
                    color: getRandomColor()
                });
            }
        }

        // éšæœºé¢œè‰²ï¼ˆç²‰è‰²/ç™½è‰²/é‡‘è‰²ï¼‰
        function getRandomColor() {
            const colors = [
                'rgba(255, 100, 150, 0.8)',
                'rgba(255, 255, 255, 0.9)',
                'rgba(255, 220, 100, 0.7)'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // åŠ¨ç”»å¾ªç¯
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            particles.forEach(p => {
                // ç²’å­å‘ç›®æ ‡ç‚¹ç§»åŠ¨
                p.x += (p.targetX - p.x) * p.speed;
                p.y += (p.targetY - p.y) * p.speed;
                
                // ç»˜åˆ¶ç²’å­
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fillStyle = p.color;
                ctx.fill();
            });

            requestAnimationFrame(animate);
        }

        // å¯åŠ¨
        initTree();
        initParticles();
        animate();
    </script>
</body>
</html>
